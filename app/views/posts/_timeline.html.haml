.Timeline
  .Timeline__header
    = icon('fas', 'home', class: 'Timeline__header--icon')
    %p.Timeline__header--name ホーム
  .Timeline__main
    - @posts.each do |post|
      .ContentBox
        .ContentBox__info
          .ContentBox__info--image
            = image_tag post.user.image.url, size: '50x50'
          .ContentBox__info__user
            .ContentBox__info__user--userName
              =link_to "#{post.user.name}", "/users/#{post.user.id}"
            .ContentBox__info__user--userId
              
          .ContentBox__info--date
            = post.created_at.strftime("%Y-%m-%d %H:%M:%S")
        .ContentBox__contents
          .ContentBox__contents--text
            %p= post.content
          = image_tag post.image.url, class: '.ContentBox__contents--image' if post.image.present?
        .ContentBox__actionBar
          - if user_signed_in? && current_user.id != post.user_id
            - if post.favorited_by?(current_user)
              %span お気に入り解除:
              = link_to post_favorites_path(post.id), remote: true method: :delete do
                = icon('fas', 'star', class: 'unFavoriteIcon')
            - else
              %span お気に入り登録:
              = link_to post_favorites_path(post.id), remote: true method: :post do
                = icon('far', 'star', class: 'FavoriteIcon')
          %span お気に入り数:
          = post.favorites.count
          - if user_signed_in? && current_user.id == post.user_id
            = link_to '編集', edit_post_path(post.id), method: :get
            = link_to '削除', post_path(post.id), method: :delete
          = link_to '詳細', post_path(post.id), method: :get
